 Практическая работа № 7

## Автор
Курков Владислав Николаевич
ПИМО-01-25

## Задание
Подключение и работа с Redis (SET/GET, TTL). Реализация простого кэша.

Цели:
- Освоить базовые операции работы с Redis из Go-приложения.
- Научиться использовать команды SET, GET, EXPIRE и механизм TTL.
- Реализовать кэширование данных для ускорения работы API.
- Понять, как кэш помогает снизить нагрузку на основную базу данных.

## Подготовка к запуску

### Установка зависимостей
```bash
make install
```

### Запуск Redis
```bash
docker run --name redis -p 6379:6379 redis
```
### Запуск сервера 
```bash
make run
```

## Примеры запросов

### 1. Установка значения
```bash
curl "http://localhost:8080/set?key=test&value=hello"
```
Результат:

![alt text](screenshots/image.png)

### 2. Получение значения
```bash
curl "http://localhost:8080/get?key=test"
```
Результат:

![alt text](screenshots/image-1.png)

### 3. Получение ttl
```bash
curl "http://localhost:8080/ttl?key=test"
```
Результат:

![alt text](screenshots/image-2.png)


### 4. Получение значения после истечения ttl
```bash
curl "http://localhost:8080/get?key=test"
```
Результат:

![alt text](screenshots/image-3.png)


## Контрольные вопросы
1. Чем Redis отличается от реляционной БД?

Redis — быстрое хранилище в памяти (RAM). Реляционные БД — на диске с таблицами. Redis в 10-100 раз быстрее простых операций.

2. Какие типы данных поддерживает Redis кроме строк?
* Lists (списки/очереди)
* Sets (множества)
* Hashes (объекты)
* Sorted Sets (сортированные множества)

3. Зачем нужен TTL? 

TTL — время жизни ключа. Удаляет старые данные автоматически.
Примеры: кэш страниц (5 мин), сессии пользователей (1 час).

4. Как Redis помогает снизить нагрузку на PostgreSQL?

Redis кэширует популярные SELECT-запросы. Меньше нагрузки на основную БД (снижение на 70-90%).

5. Что произойдёт, если ключ в Redis «протух» по TTL, а приложение попытается его прочитать?

Redis вернет nil (нет данных). Приложение обратится к PostgreSQL и обновит кэш.

## Выводы
Практическая работа позволила наглядно освоить интеграцию Redis с Go-приложением и базовые операции SET/GET с управлением TTL через EXPIRE, что является стандартным подходом к реализации легковесного кэширования на уровне API.

Реализация кэш-слоя продемонстрировала реальное ускорение ответов: запросы к Redis выполняются на порядки быстрее обращений к основной базе данных, особенно при повторных обращениях к одним и тем же данным. Настройка времени жизни записей (TTL) обеспечила автоматическую очистку устаревших данных без дополнительной нагрузки на приложение.

Полученные навыки работы с Redis как с in-memory хранилищем дают понимание, как эффективно снижать нагрузку на основную БД в реальных проектах: кэширование горячих данных (популярных списков, конфигураций, сессий) позволяет масштабировать API без пропорционального роста нагрузки на persistence layer.